%% Creates mesh points for Superfish implementationclear;clc;%num_cell = 590;num_cell = 50; %debug modewire_size = 0.01; %cmaper = 0.1; %cmhole_aper = 0.5;     %cmL = 1;  % cm distance between the plates% Initial x position%x_ini = 1 - wire_size;  %cm -- plate 1x_ini = 2 - wire_size;  %cm -- plate 2% Create y levels for all cells and aperturesy_level_cell = zeros(1,num_cell);y_level_cell(1) = hole_aper;y_level_aper = zeros(1,num_cell);y_level_aper(1) = wire_size + hole_aper;%disp('Levels -- OK')for i=1:num_cell-1	y_level_cell(i+1) = y_level_aper(i) + aper;	y_level_aper(i+1) = y_level_cell(i+1) + wire_size;end% Call the cell and aper functions subsequently to create the latticefor i=1:num_cell    CELL(i).Coords_cell=mycell(x_ini, y_level_cell(i),wire_size);endfor i=1:num_cell	APER(i).Coords_aper=myaper(x_ini, y_level_aper(i),aper, wire_size);end% Print the coordinates in Superfish format.fileID = fopen('input002.txt');formatSpec_header = '&reg mat=0,voltage=-5000.0,ibound=-1 & \n';formatSpec = '&po x = %6.4f , y = %6.4f & \n';for i=1:num_cell    fprintf(formatSpec_header);    for j=1:5        fprintf(formatSpec,CELL(i).Coords_cell(j,1),CELL(i).Coords_cell(j,2));    endendfclose('all');